/**
 * Generated by orval v8.0.0 ðŸº
 * Do not edit manually.
 * Example
 * The cats API description
 * OpenAPI spec version: 1.0
 */

import type { Key, SWRConfiguration } from 'swr'
import useSwr from 'swr'

import type { GetHealthDto } from '../../models'

export type healthControllerGetResponse200 = {
  data: GetHealthDto
  status: 200
}

export type healthControllerGetResponseSuccess = healthControllerGetResponse200 & {
  headers: Headers
}

export type healthControllerGetResponse = healthControllerGetResponseSuccess

export const getHealthControllerGetUrl = () => {
  return `http://localhost:4000/api/health`
}

export const healthControllerGet = async (
  options?: RequestInit,
): Promise<healthControllerGetResponse> => {
  const res = await fetch(getHealthControllerGetUrl(), {
    ...options,
    method: 'GET',
  })

  const body = [204, 205, 304].includes(res.status) ? null : await res.text()

  const data: healthControllerGetResponse['data'] = body ? JSON.parse(body) : {}
  return { data, status: res.status, headers: res.headers } as healthControllerGetResponse
}

export const getHealthControllerGetKey = () => [`http://localhost:4000/api/health`] as const

export type HealthControllerGetQueryResult = NonNullable<
  Awaited<ReturnType<typeof healthControllerGet>>
>

export const useHealthControllerGet = <TError = Promise<unknown>>(options?: {
  swr?: SWRConfiguration<Awaited<ReturnType<typeof healthControllerGet>>, TError> & {
    swrKey?: Key
    enabled?: boolean
  }
  fetch?: RequestInit
}) => {
  const { swr: swrOptions, fetch: fetchOptions } = options ?? {}

  const isEnabled = swrOptions?.enabled !== false
  const swrKey = swrOptions?.swrKey ?? (() => (isEnabled ? getHealthControllerGetKey() : null))
  const swrFn = () => healthControllerGet(fetchOptions)

  const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(swrKey, swrFn, swrOptions)

  return {
    swrKey,
    ...query,
  }
}
